<!DOCTYPE html>
<html lang="en">

<head>
  <title>Đăng ký tài khoản</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- <link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="vendor/animate/animate.css"> -->
  <!-- <link rel="stylesheet" type="text/css" href="vendor/css-hamburgers/hamburgers.min.css">
  <link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css"> -->
  <link rel="stylesheet" type="text/css" href="css/util.css">
  <link rel="stylesheet" type="text/css" href="css/main.css">
  <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-sweetalert/1.0.1/sweetalert.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"></script>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
  <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
    integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />



</head>
<style>
  .limiter .toast1 {
    /* position: relative; */
    margin: 5px;
    padding: 10px;
    background-color: rgb(252, 232, 116);
    color: rgb(0, 28, 64);
    border: 1.5px solid rgb(252, 232, 116);
    border-radius: 5px;
    width: 55vh;
    text-align: center;
    line-height: 1.8;
  }
</style>
<!-- <style>
  body {
    font-family: 'Ubuntu', sans-serif;
    color: white;
  }

  .login-box {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 400px;
    padding: 40px;
    transform: translate(-50%, -50%);
    background: rgb(244, 77, 174);
    box-sizing: border-box;
    box-shadow: 0 15px 25px rgba(244, 65, 169, 0.6);
    border-radius: 10px;
  }

  .login-box h2 {
    margin: 0 0 30px;
    padding: 0;
    color: #fff;
    text-align: center;
  }

  .login-box .user-box {
    position: relative;
  }

  .login-box .user-box input {
    width: 100%;
    padding: 10px 0;
    font-size: 16px;
    color: #fff;
    margin-bottom: 30px;
    border: none;
    border-bottom: 1px solid #fff;
    outline: none;
    background: transparent;
  }

  .login-box .user-box label {
    position: absolute;
    top: 0;
    left: 0;
    padding: 10px 0;
    font-size: 16px;
    color: #fff;
    pointer-events: none;
    transition: .5s;
  }

  .login-box .user-box input:focus~label,
  .login-box .user-box input:valid~label {
    top: -20px;
    left: 0;
    color: #fff;
    font-size: 12px;
  }

  #eye {
    position: absolute;
    bottom: 60%;
    right: 3%;
  }

  #eye2 {
    position: absolute;
    bottom: 60%;
    right: 3%;
  }

  .submit {
    position: relative;
    display: inline-block;
    padding: 10px 20px;
    color: #fff;
    font-size: 16px;
    text-decoration: none;
    text-transform: uppercase;
    overflow: hidden;
    transition: .5s;
    margin-top: 40px;
    letter-spacing: 4px;
    cursor: pointer;

  }

  .submit:hover {
    background: #fff;
    color: rgb(247, 23, 155);
    border-radius: 5px;
    box-shadow: 0 0 5px #fff,
      0 0 25px #fff,
      0 0 50px #fff,
      0 0 100px #fff;
  }
</style> -->

<body>
  <div class="limiter">
    <div class="toast" id="toast-body" role="alert" aria-live="assertive" aria-atomic="true">
    </div>
    <div class="container-login100">
      <div class="wrap-login100">
        <div class="login100-pic js-tilt" data-tilt>
          <img width="100%" src="images/logo.png" alt="IMG">
        </div>
        <!--=====TIÊU ĐỀ======-->
        <form class="login100-form validate-form">
          <span class="login100-form-title">
            <b>ĐĂNG KÝ TÀI KHOẢN</b>
            <form action="">
              <div class="wrap-input100 validate-input">
                <input class="input100" type="text" placeholder="Email" name="email" id="email">
                <span class="focus-input100"></span>
                <span class="symbol-input100">
                  <i class='fa fa-envelope'></i>
                </span>
              </div>
              <div class="wrap-input100 validate-input">
                <input class="input100" type="text" placeholder="Tên đăng nhập" name="username" id="username">
                <span class="focus-input100"></span>
                <span class="symbol-input100">
                  <i class='bx bx-user'></i>
                </span>
              </div>
              <div class="wrap-input100 validate-input">
                <input class="input100" type="number" placeholder="Số điện thoại" name="telephone" id="telephone">
                <span class="focus-input100"></span>
                <span class="symbol-input100">
                  <i class="bx bx-phone"></i>
                </span>
              </div>
              <div class="wrap-input100 validate-input">
                <input class="input100" type="text" placeholder="Địa chỉ" name="address" id="address">
                <span class="focus-input100"></span>
                <span class="symbol-input100">
                  <i class="bi bi-house-door" style="color:black"></i>
                </span>
              </div>

              <div class="wrap-input100 validate-input">
                <input autocomplete="off" class="input100" type="password" placeholder="Mật khẩu (ít nhất 6 ký tự)"
                  name="current-password" id="password">
                <i id="eye" onclick="show()" class="bx fa-fw bx-hide field-icon click-eye"></i>
                <!-- <span toggle="#password-field" class="bx fa-fw bx-hide field-icon click-eye"></span> -->
                <span class="focus-input100"></span>
                <span class="symbol-input100">
                  <i class='bx bx-key'></i>
                </span>
              </div>
              <div class="wrap-input100 validate-input">
                <input autocomplete="off" class="input100" type="password" placeholder="Nhập lại mật khẩu"
                  name="current-password" id="password2">
                <i id="eye2" onclick="show2()" class="bx fa-fw bx-hide field-icon click-eye"></i>
                <!-- <span toggle="#password-field" class="bx fa-fw bx-hide field-icon click-eye"></span> -->
                <span class="focus-input100"></span>
                <span class="symbol-input100">
                  <i class='bx bx-key'></i>
                </span>
              </div>


              <!--=====ĐĂNG KÝ======-->
              <div class="container-login100-form-btn">
                <input type="button" value="Đăng ký" id="submit" onclick="signIn()" />
              </div>
              <div class="text-center p-t-20 txt2">
                Bạn đã có tài khoản? <a href="./login.html" style="color:rgb(0,28,64)">Đăng nhập ngay</a>
                </p>

              </div>
            </form>

        </form>









        <script>
          let count = 0;
          function show() {
            let passwordInput = document.getElementById("password");
            let eye = document.getElementById("eye");
            count++;
            if (count == 1) {
              passwordInput.type = "text";
              eye.classList.add("fa-eye");

            }
            else if (count == 2) {
              passwordInput.type = "password";
              eye.classList.remove("fa-eye");
              count = 0;
            }
          }
          let count2 = 0;
          function show2() {
            let passwordInput2 = document.getElementById("password2");
            let eye2 = document.getElementById("eye2");
            count2++;
            if (count2 == 1) {
              passwordInput2.type = "text";
              eye2.classList.add("fa-eye");
            }
            else if (count2 == 2) {
              passwordInput2.type = "password";
              eye2.classList.remove("fa-eye");
              count2 = 0;
            }
          }

          function signIn() {
            let listUser = JSON.parse(localStorage.getItem("listUser"));
            let emailInput = document.getElementById("email").value;
            let username = document.getElementById("username").value;
            let telephone = document.getElementById("telephone").value;
            let address = document.getElementById("address").value;
            let passwordInput = document.getElementById("password").value;
            let passwordInput2 = document.getElementById("password2").value;
            if (emailInput == "" || passwordInput == "" || passwordInput2 == "" || username == "" || telephone == "" || address == "") {
              document.getElementById("toast-body").innerHTML = `<div class="toast1" style="position: absolute; top: 20; right: 0;">
                <div class="toast-header">
                  <br>
                    <strong class="mr-auto" style="font-size:18px">Hãy nhập đầy đủ thông tin!</strong> 
                    <p><br></p>
                </div>
                </div>`;
              setTimeout(() => { document.getElementById("toast-body").innerHTML = `` }, 2000)
              return;
            }
            // Kiểm tra định dạng email
            function isValidEmail(email) {
              const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

              // Sử dụng hàm test() của biểu thức chính quy để kiểm tra định dạng email
              return emailPattern.test(email);
            }
            if (!isValidEmail(emailInput)) {
              document.getElementById("toast-body").innerHTML = `<div class="toast1" style="position: absolute; top: 20; right: 0;">
                <div class="toast-header">
                    <strong class="mr-auto" style="font-size:18px">Email không hợp lệ!</strong>
                </div> 
                </div>`;

              setTimeout(() => { document.getElementById("toast-body").innerHTML = `` }, 1500)
              return;
            }
            // Kiểm tra độ dài password
            function isPasswordValid(password) {
              return password.length >= 6;
            }
            if (!isPasswordValid(passwordInput)) {
              document.getElementById("toast-body").innerHTML = `<div class="toast1" style="position: absolute; top: 20; right: 0;">
                <div class="toast-header">
                    <strong class="mr-auto" style="font-size:18px">Mật khẩu không hợp lệ!</strong>
                </div>
                <div class="toast-body" style="font-size:18px">
                Hãy nhập mật khẩu gồm ít nhất 6 ký tự!
                </div>  
                </div>`;
              setTimeout(() => { document.getElementById("toast-body").innerHTML = `` }, 2000)
              return;
            }
            if (passwordInput != passwordInput2) {
              document.getElementById("toast-body").innerHTML = `<div class="toast1" style="position: absolute; top: 20; right: 0;">
                <div class="toast-header">
                    <strong class="mr-auto" style="font-size:18px">Mật khẩu không trùng khớp</strong>
                </div> 
                </div>`;
              setTimeout(() => { document.getElementById("toast-body").innerHTML = `` }, 2000)
              return;
            }
            if (listUser.find((s) => (s.emailInput == emailInput) || (s.username == username))) {
              document.getElementById("toast-body").innerHTML = `<div class="toast1" style="position: absolute; top: 20; right: 0;">
                <div class="toast-header">
                    <strong class="mr-auto" style="font-size:18px">Email này đã đăng ký tài khoản</strong>
                </div>
                </div>`;
              setTimeout(() => { document.getElementById("toast-body").innerHTML = `` }, 2000)
              return;
            }
            let infoUser = {
              email: emailInput,
              password: passwordInput,
              username: username,
              telephone: telephone,
              address: address
            }
            if (listUser == null) {
              listUser = [];
            }
            document.getElementById("toast-body").innerHTML = `<div class="toast1" style="position: absolute; top: 20; right: 0;">
                <div class="toast-header">
                    <strong class="mr-auto" style="font-size:18px">Đăng ký thành công</strong>
                </div>
                <div class="toast-body" style="font-size:18px">
                Xin chào, ${username}
                </div>  
                </div>`;

            listUser.push(infoUser)
            localStorage.setItem("listUser", JSON.stringify(listUser))
            console.log(listUser);

            // Chuyển trang
            setTimeout(() => { window.location.href = "./login.html" }, 2000);
          }
                  // cài đặt nút enter
        window.addEventListener("keydown", (event) => {
            if (event.keyCode === 13) {
                loginAdmin();
            }
        });

        </script>
        <!-- Load jQuery first -->
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
        <!-- Load Popper.js next -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
        <!-- Load Bootstrap JS last -->
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>


</body>

</html>